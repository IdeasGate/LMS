@using Sirkadirov.Overtest.WebApplication.ViewComponents.Shared
@model List<Sirkadirov.Overtest.Libraries.Shared.Database.Storage.TasksArchive.ProgrammingTaskCategory>

@{
    ViewBag.PageTitle = Localizer["Категорії завдань"].Value;
}

@section FullwidthSection
{
    
    @{
        Func<dynamic, object> DrawDropleftMenu() => 
            @<span>
                    
                <partial name="ViewComponents/DropleftMenu/CommonSupportDropleftMenuItems" />
                
            </span>;
    }


    @(await Component.InvokeAsync<ServiceHeaderViewComponent>(new ServiceHeaderViewComponent.HeaderModel
    {
        PageTitle = Localizer["Категорії завдань"].Value,
        SubtitleLink = new ServiceHeaderViewComponent.HeaderModel.IconLinkData
        {
            Enabled = true,
            LinkDestination = Url.Action("List", "Archive", new { area = "TasksArchive" }),
            LinkIcon = "fas fa-chevron-left",
            LinkText = Localizer["Повернутися до Архіву завдань"].Value
        },
        MenuDrawer = new ServiceHeaderViewComponent.HeaderModel.MenuDrawerData
        {
            Enabled = true,
            DrawMenuItems = DrawDropleftMenu()
        }
    }))

}

@if (Model.Count > 0)
{
    <div class="row row-cols-1 row-cols-md-3">
        
        @foreach (var tasksCategory in Model)
        {
            
            <div class="col mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        
                        <a class="d-block h5 font-weight-bold text-dark text-decoration-none stretched-link"
                           asp-area="TasksArchive"
                           asp-controller="Archive"
                           asp-action="List"
                           asp-route-category="@tasksCategory.Id">@tasksCategory.DisplayName</a>
                        
                        <p class="card-text mb-0">@tasksCategory.Description</p>
                        
                    </div>
                </div>
            </div>
            
        }
        
    </div>
}
else
{
    <div class="alert alert-light">
        <h5 class="alert-heading"><i class="fas fa-heart-broken"></i> @Localizer["Категорій завдань не знайдено!"]</h5>
        <p class="m-0">
            @Localizer["Дуже шкода, але за адміністратори системи ще не додали жодної категорії для завдань з програмування, яка могла б відображатися на цій сторінці."]
            @Localizer["Можливо, у вас немає відповідного дозволу для перегляду цієї інформації?"]
            @Localizer["Можливо, вам слід завітати на цю сторінку пізніше, або ж зв'язатися зі своїм куратором."]
        </p>
    </div>
}